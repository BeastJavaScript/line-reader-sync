// Generated by CoffeeScript 1.7.1
(function() {
  var LineReaderSync, fs;

  fs = require("fs");

  LineReaderSync = (function() {
    function LineReaderSync(path) {
      this.path = path;
      this.file = fs.openSync(this.path, "r");
      this.line = new Buffer(1024);
      this.buffer_size = 0;
      this.position = 0;
      this.finish = false;
    }

    LineReaderSync.prototype.hasNext = function() {
      if (!this.finish) {
        return true;
      } else {
        return false;
      }
    };

    LineReaderSync.prototype.read = function() {
      return fs.readSync(this.file, this.line, this.buffer_size++, 1, this.position++);
    };

    LineReaderSync.prototype.readLine = function() {
      var char, string;
      while (true) {
        this.read();
        if ((char = this.line[this.buffer_size - 1]) === 0 || char === 13) {
          break;
        }
      }
      if (char === 0) {
        this.finish = true;
        this.file.close();
      }
      string = this.line.slice(0, this.buffer_size).toString().slice(0, -1);
      this.clear();
      return string;
    };

    LineReaderSync.prototype.clear = function() {
      this.line.fill(0, 0, this.buffer_size);
      this.buffer_size = 0;
      return this.position++;
    };

    return LineReaderSync;

  })();

  module.exports.LineReaderSync = LineReaderSync;

}).call(this);
